잘쓰던 ec2 pem키를 통해서 인스턴스에 접근하려고 했는데 다음과 같은 오류가 발생하면서 접속이 되지 않았다.

### *오류는 해결했고 참고한 블로그의 이미지로 대체했다.

![image](https://user-images.githubusercontent.com/57162257/144164180-ec4c25e1-ed97-4c81-8e22-622c85fbe73f.png)

당장 회사 서버를 배포해야하는데 막혀서 식은땀이 났다..; 급하게 검색을 하다보니 다행이 흔한(?) 오류여서 금방해결할수 있었다.



## 이유

- 기존 이용하던 RSA공유 키를 다른 인스턴스를 만들어 공유를 했었고 내가 공유키를 통해 접근하려고 하는 인스턴스는 컴퓨터가 기존에 알고있는 인스턴스가 아니라 다른 인스턴스라는 것이다 라고 경고하는 거였다.
- 즉, **기존에 서버가 알고있는 정보를 찾아서 따라갔더니 기존과 전혀 다른 서버로 접속되었다는 것이다.**
- 하지만 이 경우 운영자인 내가 고의적으로 변경한것이기 떄문에 문제가 없다(이걸 **스푸핑** 이라고 한단다.)

-------------

## 해결

- 기존에 알고있는 인스턴스 정보를 수정해줘서 내가 접근할 서버 정보를 작성해줘야한다.
- 위 메시지에 적혀있는대로 `/Users/CPUU/.ssh/known_hosts` 로 접근한다.
- 접근하게 되면 기존에 접속한 인스턴스의 RSA키 값들이 정리가 되어있는데, 나는 전부 지웠다.
  (지워도 ssh를 통해 인스턴스에 접근하면 위의 경로에 새로 생성되더라)
- 지우고 나서 다시 공유키를 통해 인스턴스에 접근하려고하면
  ![image](https://user-images.githubusercontent.com/57162257/144166439-fa7a9e52-6980-4b75-9dfa-e40fe6befb71.png)
  이렇게 계속 접근할거냐고 물어보면 `yes`
- 다른 해결방법으로는 `ssh-keygen -R [IP]` 명령어를 통해 ssh를 통해 접근하는 key들을 초기화 해줄수 있다고한다.



-----------

## 참고

https://cpuu.postype.com/post/30065

https://kingsong.tistory.com/127